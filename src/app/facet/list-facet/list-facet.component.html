<div id="faceted" class="row">

  <div id="facets" class="col-4 m-0">
    <h5 class="p-1">Facets
      <span *ngIf="retrievedFacets > 0">
        <span class="badge badge-warning badge-pill">{{retrievedFacets}}</span>
        <a *ngIf="retrievedFacets < datasetClass.facetsCount" class="badge" [routerLink]=""
            (click)="loadAllFacets()" title="Load all facets"> of {{datasetClass.facetsCount}}</a>
      </span>
      <span *ngIf="retrievedFacets == 0" class="badge badge-danger badge-pill">No facets retrieved</span>
      <span *ngIf="retrievedFacets == undefined" class="badge badge-warning badge-pill">Loading...</span>
    </h5>
    <div *ngFor="let facet of facets">
      <app-detail-facet [datasetId]="datasetId" [classId]="classId" [facet]="facet" [ngUnsubscribe]="ngUnsubscribe">
      </app-detail-facet>
    </div>
  </div>

  <div id="instances" class="col-8 m-0">
    <h5 class="p-1">Instances
      <span *ngIf="filteredInstances > 0" class="badge badge-warning badge-pill">{{filteredInstances}}/{{totalInstances}}</span>
      <span *ngIf="filteredInstances == 0" class="badge badge-danger badge-pill">No instances retrieved</span>
      <span *ngIf="filteredInstances == undefined" class="badge badge-warning badge-pill">Loading...</span>
    </h5>
    <div *ngFor="let resource of resources">
      <app-description [description]="resource" [anonDescriptions]="anonResources" [labels]="labels"></app-description>
    </div>
    <ngb-pagination class="d-flex justify-content-center" [(page)]="page" [pageSize]="pageSize"
                    [collectionSize]="filteredInstances" [rotate]="true" [maxSize]="5"
                    [directionLinks]="false" size="sm"
                    (pageChange)="goToPage($event)"></ngb-pagination>
    <p *ngIf="totalInstances && filteredInstances" i18n class="text-center">
      Showing {{resources?.length}} out of { filteredInstances, plural,
      =1 {1 instance} other { {{filteredInstances}} instances} } filtered from {{totalInstances}}</p>
  </div>

</div>
