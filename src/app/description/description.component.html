<div class="card mb-2" *ngIf="description">
  <img *ngIf="description.depiction.length > 0" class="card-img-top"
       style="cursor: pointer" [class.expanded]="depictionExpanded" (click)="switchExpansion()"
       [src]="description.depiction[0].asString()" alt="resource depiction">
  <div class="card-header">
    <p class="card-text" [class.reverse-text-truncate]="!description.label">
      <b *ngIf="!description.isAnon()" [title]="description['@id']">
        <a [routerLink]="[describe]" [queryParams]="{uri: description['@id']}">{{description.label || description['@id']}}</a>
      </b>
      <span *ngFor="let type of description['@type']" [title]="type"
            class="badge badge-secondary badge-pill float-right">{{localName(type)}}</span>
    </p>
  </div>
  <ul class="list-group list-group-flush">
    <li class="list-group-item small" *ngFor="let property of description.properties">
      <b title="{{property.uri}}">{{property.label}}</b>:
      <span *ngFor="let value of property.filterLangValues('en'); let firstValue=first">
        <app-description *ngIf="value.isAnon()"
          [description]="getAnonResource(value)" [anonDescriptions]="anonDescriptions">
        </app-description>
        <span *ngIf="!value.isAnon()"><span *ngIf="!firstValue">, </span>
          <span *ngIf="value.uri"><a [routerLink]="[describe]" [queryParams]="{uri: value.uri}">{{value.label}}</a></span>
          <span *ngIf="value.value">{{value.value}}</span>
        </span>
      </span>
    </li>
  </ul>
</div>
